@using Client.Singletons

@inherits ComponentBase

@inject NavigationManager NavManager
@inject ApplicationState ApplicationState

@code {
    protected virtual string AuthenticationFailRedirectUrl => "/login";
    
    protected override Task<bool> OnInitializedAsync()
    {
        if (ApplicationState.LoggedIn)
        {
            return Task.FromResult(true);
        }

        NavManager.NavigateTo(AuthenticationFailRedirectUrl);
        return Task.FromResult(false);

    }
}